{"ast":null,"code":"var _jsxFileName = \"/home/sisagricola/Documents/Software/postcommentsapp/src/pages/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../actions/PostsActions\";\nimport { getComments } from \"../actions/CommentsActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Index = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const posts = useSelector(state => state.postsState.posts);\n  const comments = useSelector(state => state.commentsState.comments); //   const [posts, Posts] = useState([]);\n  //   const [comments, Comments] = useState([]);\n\n  useEffect(() => {\n    /**\n     * Gets data from API\n     */\n    function getDatsAPI() {\n      //Getting posts data\n      dispatch(getPosts()); //   Posts(postsList);\n      //Getting comments data\n\n      dispatch(getComments()); //   Comments(commentsList);\n    }\n    /**\n     * Match posts and their right comments\n     */\n\n\n    function matchData() {\n      debugger;\n      let postObject = {};\n      let postsArray = [];\n\n      if (Object.keys(posts).length > 0) {\n        posts.map(post => {\n          debugger;\n          let commentsFiltered = comments.filter(e => e.postid === post.postid);\n          postObject = {\n            post: post,\n            comments: commentsFiltered\n          };\n          postsArray.push(postObject);\n        });\n        console.log(postsArray);\n      }\n    }\n\n    getDatsAPI();\n    setTimeout(() => {\n      matchData();\n    }, 5000);\n  }, [posts, comments]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Index, \"4oRibjpDIBhS7J/hb5HqC+0ksCE=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/home/sisagricola/Documents/Software/postcommentsapp/src/pages/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","getPosts","getComments","Index","dispatch","posts","state","postsState","comments","commentsState","getDatsAPI","matchData","postObject","postsArray","Object","keys","length","map","post","commentsFiltered","filter","e","postid","push","console","log","setTimeout"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,SAASC,WAAT,QAA4B,4BAA5B;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAElB,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AAEA,QAAMM,KAAK,GAAGL,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACC,UAAN,CAAiBF,KAA3B,CAAzB;AACA,QAAMG,QAAQ,GAAGR,WAAW,CAACM,KAAK,IAAIA,KAAK,CAACG,aAAN,CAAoBD,QAA9B,CAA5B,CALkB,CAOpB;AACA;;AAEEV,EAAAA,SAAS,CAAC,MAAM;AACd;AACJ;AACA;AACI,aAASY,UAAT,GAAsB;AACpB;AACDN,MAAAA,QAAQ,CAACH,QAAQ,EAAT,CAAR,CAFqB,CAGtB;AACE;;AACDG,MAAAA,QAAQ,CAACF,WAAW,EAAZ,CAAR,CALqB,CAMtB;AACC;AAEL;AACA;AACA;;;AACI,aAASS,SAAT,GAAqB;AAEjB;AACF,UAAIC,UAAU,GAAG,EAAjB;AACA,UAAIC,UAAU,GAAG,EAAjB;;AAEA,UAAIC,MAAM,CAACC,IAAP,CAAYV,KAAZ,EAAmBW,MAAnB,GAA4B,CAAhC,EAAmC;AACjCX,QAAAA,KAAK,CAACY,GAAN,CAAWC,IAAD,IAAU;AAChB;AACF,cAAIC,gBAAgB,GAAGX,QAAQ,CAACY,MAAT,CACpBC,CAAD,IAAOA,CAAC,CAACC,MAAF,KAAaJ,IAAI,CAACI,MADJ,CAAvB;AAIAV,UAAAA,UAAU,GAAG;AACXM,YAAAA,IAAI,EAAEA,IADK;AAEXV,YAAAA,QAAQ,EAAEW;AAFC,WAAb;AAKAN,UAAAA,UAAU,CAACU,IAAX,CAAgBX,UAAhB;AACD,SAZD;AAaAY,QAAAA,OAAO,CAACC,GAAR,CAAYZ,UAAZ;AACD;AACF;;AAEDH,IAAAA,UAAU;AAEVgB,IAAAA,UAAU,CAAC,MAAI;AACXf,MAAAA,SAAS;AACZ,KAFS,EAER,IAFQ,CAAV;AAID,GA9CQ,EA8CN,CAACN,KAAD,EAAOG,QAAP,CA9CM,CAAT;AAgDA,sBAAO;AAAA;AAAA;AAAA;AAAA,UAAP;AACD,CA3DD;;GAAML,K;UAEaJ,W,EAEHC,W,EACGA,W;;;KALbG,K;AA6DN,eAAeA,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../actions/PostsActions\";\nimport { getComments } from \"../actions/CommentsActions\";\n\nconst Index = () => {\n    \n  const dispatch = useDispatch();\n\n  const posts = useSelector(state => state.postsState.posts);\n  const comments = useSelector(state => state.commentsState.comments);\n\n//   const [posts, Posts] = useState([]);\n//   const [comments, Comments] = useState([]);\n\n  useEffect(() => {\n    /**\n     * Gets data from API\n     */\n    function getDatsAPI() {\n      //Getting posts data\n     dispatch(getPosts());\n    //   Posts(postsList);\n      //Getting comments data\n     dispatch(getComments());\n    //   Comments(commentsList);\n    }\n\n/**\n * Match posts and their right comments\n */\n    function matchData() {\n\n        debugger\n      let postObject = {};\n      let postsArray = [];\n\n      if (Object.keys(posts).length > 0) {\n        posts.map((post) => {\n            debugger\n          let commentsFiltered = comments.filter(\n            (e) => e.postid === post.postid\n          );\n\n          postObject = {\n            post: post,\n            comments: commentsFiltered,\n          };\n          \n          postsArray.push(postObject);\n        });\n        console.log(postsArray);\n      } \n    }\n\n    getDatsAPI();\n\n    setTimeout(()=>{\n        matchData();\n    },5000);\n\n  }, [posts,comments]);\n\n  return <div></div>;\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}