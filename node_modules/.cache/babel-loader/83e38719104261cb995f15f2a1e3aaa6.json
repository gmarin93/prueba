{"ast":null,"code":"var _jsxFileName = \"/home/sisagricola/Documents/Software/postcommentsapp/src/pages/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../actions/PostsActions\";\nimport { getComments } from \"../actions/CommentsActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Index = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const postsData = useSelector(state => state.postsState.posts);\n  const postLoading = useSelector(state => state.postsState.loading);\n  const commentLoading = useSelector(state => state.commentsState.loading);\n  const commentsData = useSelector(state => state.commentsState.comments);\n  const [matchedData, MatchingData] = useState([]);\n  useEffect(() => {\n    /**\n     * Gets data from API\n     */\n    function getDatsAPI() {\n      if (Object.keys(postsData).length === 0) {\n        //Getting posts data\n        dispatch(getPosts()); //Getting comments data\n\n        dispatch(getComments());\n      }\n\n      matchData(); //Match posts to their right comments\n    }\n\n    getDatsAPI();\n  }, [postLoading, commentLoading]);\n  /**\n   * Match posts and their right comments\n   */\n\n  function matchData() {\n    let arrayPosts = [];\n\n    if (Object.keys(postsData).length > 0) {\n      postsData.map(post => {\n        let commentsFiltered = commentsData.filter(e => e.postId === post.id);\n        arrayPosts.push({\n          post: post,\n          comments: commentsFiltered\n        });\n      });\n    }\n\n    MatchingData(arrayPosts);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 10\n    }, this), matchedData.map(e => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: e.post.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Index, \"zOHYZHTmAzUMoPgG+q/GjAt/rI8=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/home/sisagricola/Documents/Software/postcommentsapp/src/pages/index.js"],"names":["React","useState","useEffect","useDispatch","useSelector","getPosts","getComments","Index","dispatch","postsData","state","postsState","posts","postLoading","loading","commentLoading","commentsState","commentsData","comments","matchedData","MatchingData","getDatsAPI","Object","keys","length","matchData","arrayPosts","map","post","commentsFiltered","filter","e","postId","id","push","title"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,QAAT,QAAyB,yBAAzB;AACA,SAASC,WAAT,QAA4B,4BAA5B;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AAEA,QAAMM,SAAS,GAAGL,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,UAAN,CAAiBC,KAA7B,CAA7B;AACA,QAAMC,WAAW,GAAGT,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACC,UAAN,CAAiBG,OAA7B,CAA/B;AACA,QAAMC,cAAc,GAAGX,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACM,aAAN,CAAoBF,OAAhC,CAAlC;AACA,QAAMG,YAAY,GAAGb,WAAW,CAAEM,KAAD,IAAWA,KAAK,CAACM,aAAN,CAAoBE,QAAhC,CAAhC;AAEA,QAAM,CAACC,WAAD,EAAcC,YAAd,IAA8BnB,QAAQ,CAAC,EAAD,CAA5C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd;AACJ;AACA;AACI,aAASmB,UAAT,GAAsB;AACpB,UAAIC,MAAM,CAACC,IAAP,CAAYd,SAAZ,EAAuBe,MAAvB,KAAkC,CAAtC,EAAyC;AACvC;AACAhB,QAAAA,QAAQ,CAACH,QAAQ,EAAT,CAAR,CAFuC,CAGvC;;AACAG,QAAAA,QAAQ,CAACF,WAAW,EAAZ,CAAR;AACD;;AAEDmB,MAAAA,SAAS,GARW,CAQP;AACd;;AACDJ,IAAAA,UAAU;AACX,GAfQ,EAeN,CAACR,WAAD,EAAcE,cAAd,CAfM,CAAT;AAiBA;AACF;AACA;;AACE,WAASU,SAAT,GAAqB;AACnB,QAAIC,UAAU,GAAG,EAAjB;;AAEA,QAAIJ,MAAM,CAACC,IAAP,CAAYd,SAAZ,EAAuBe,MAAvB,GAAgC,CAApC,EAAuC;AACrCf,MAAAA,SAAS,CAACkB,GAAV,CAAeC,IAAD,IAAU;AACtB,YAAIC,gBAAgB,GAAGZ,YAAY,CAACa,MAAb,CAAqBC,CAAD,IAAOA,CAAC,CAACC,MAAF,KAAaJ,IAAI,CAACK,EAA7C,CAAvB;AAEAP,QAAAA,UAAU,CAACQ,IAAX,CAAgB;AACdN,UAAAA,IAAI,EAAEA,IADQ;AAEdV,UAAAA,QAAQ,EAAEW;AAFI,SAAhB;AAID,OAPD;AAQD;;AAEDT,IAAAA,YAAY,CAACM,UAAD,CAAZ;AACD;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACK;AAAK,MAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,YADL,EAIGP,WAAW,CAACQ,GAAZ,CAAiBI,CAAD,iBAEf;AAAA,gBAAIA,CAAC,CAACH,IAAF,CAAOO;AAAX;AAAA;AAAA;AAAA;AAAA,YAFD,CAJH;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAWD,CA1DD;;GAAM5B,K;UACaJ,W,EAECC,W,EACEA,W,EACGA,W,EACFA,W;;;KANjBG,K;AA4DN,eAAeA,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPosts } from \"../actions/PostsActions\";\nimport { getComments } from \"../actions/CommentsActions\";\n\nconst Index = () => {\n  const dispatch = useDispatch();\n\n  const postsData = useSelector((state) => state.postsState.posts);\n  const postLoading = useSelector((state) => state.postsState.loading);\n  const commentLoading = useSelector((state) => state.commentsState.loading);\n  const commentsData = useSelector((state) => state.commentsState.comments);\n\n  const [matchedData, MatchingData] = useState([]);\n\n  useEffect(() => {\n    /**\n     * Gets data from API\n     */\n    function getDatsAPI() {\n      if (Object.keys(postsData).length === 0) {\n        //Getting posts data\n        dispatch(getPosts());\n        //Getting comments data\n        dispatch(getComments());\n      }\n\n      matchData(); //Match posts to their right comments\n    }\n    getDatsAPI();\n  }, [postLoading, commentLoading]);\n\n  /**\n   * Match posts and their right comments\n   */\n  function matchData() {\n    let arrayPosts = [];\n\n    if (Object.keys(postsData).length > 0) {\n      postsData.map((post) => {\n        let commentsFiltered = commentsData.filter((e) => e.postId === post.id);\n\n        arrayPosts.push({\n          post: post,\n          comments: commentsFiltered,\n        });\n      });\n    }\n\n    MatchingData(arrayPosts);\n  }\n\n  return (\n    <div className=\"container\">\n         <div className=\"row justify-content-center\">\n             \n         </div>\n      {matchedData.map((e) => (\n\n        <p>{e.post.title}</p>\n      ))}\n    </div>\n  );\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}