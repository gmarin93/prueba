(this.webpackJsonppostcommentsapp=this.webpackJsonppostcommentsapp||[]).push([[0],{69:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c),r=n(11),o=n.n(r),s=n(4),i=n(5),u=n(28),l=n(2),j="GET_POSTS",b="GET_POSTS_SUCCESS",d="GET_POSTS_ERROR",m="GET_COMMENTS",O="GET_COMMENTS_SUCCESS",p="GET_COMMENTS_ERROR",f="ADD_COMMENT",h="ADD_COMMENT_SUCCESS",x="ADD_COMMENT_ERROR",v="GET_DATA_STATE",g="GET_DATA_STATE_SUCCESS",y={comments:[],error:!1,loading:!1},S={posts:[],error:!1,loading:!1},E=Object(i.c)({commentsState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:return Object(l.a)(Object(l.a)({},t),{},{comments:[],error:!1,loading:!0});case O:return Object(l.a)(Object(l.a)({},t),{},{comments:e.payload,error:!1,loading:!1});case p:return Object(l.a)(Object(l.a)({},t),{},{comments:[],error:!0,loading:!1});case f:return Object(l.a)(Object(l.a)({},t),{},{comments:[],error:!1,loading:!0});case h:return Object(l.a)(Object(l.a)({},t),{},{comments:e.payload,error:!1,loading:!1});case x:return Object(l.a)(Object(l.a)({},t),{},{comments:[],error:!0,loading:!1});case v:return Object(l.a)(Object(l.a)({},t),{},{loading:!0});case g:return Object(l.a)(Object(l.a)({},t),{},{loading:!1});default:return t}},postsState:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case j:return Object(l.a)(Object(l.a)({},t),{},{posts:[],error:!1,loading:!0});case b:return Object(l.a)(Object(l.a)({},t),{},{posts:e.payload,error:!1,loading:!1});case d:return Object(l.a)(Object(l.a)({},t),{},{posts:[],error:!0,loading:!1});default:return t}}}),_=[u.a],T=Object(i.e)(E,{},Object(i.d)(i.a.apply(void 0,_),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),N=n(7),C=n(6),D=n.n(C),w=n(9),M=n(29),k=n.n(M).a.create({baseURL:"https://jsonplaceholder.typicode.com"});var R=function(){return{type:j}},A=function(t){return{type:b,payload:t}},I=function(){return{type:d}};var G=function(){return{type:m}},U=function(t){return{type:O,payload:t}},F=function(){return{type:p}},L=function(){return{type:f}},P=function(t){return{type:h,payload:t}},X=function(){return{type:x}},B=n(1),J=function(t){var e=t.comment;return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{className:"font-weight-bold",children:e.name}),Object(B.jsx)("p",{className:"font-bold small",children:e.email}),Object(B.jsx)("p",{className:"font-italic small",children:e.body})]})},V=n(12),z=n(30),H=function(t){var e=t.id,n=Object(s.b)(),a=function(t){return n((e=t,function(){var t=Object(w.a)(D.a.mark((function t(n){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(L());try{n(P(e))}catch(c){n(X())}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var e},r=Object(s.c)((function(t){return t.commentsState.comments})),o=Object(c.useState)({postId:0,id:0,name:"",email:"",body:""}),i=Object(N.a)(o,2),u=i[0],j=i[1],b=function(t){j(Object(l.a)(Object(l.a)({},u),{},Object(V.a)({},t.target.name,t.target.value)))};return Object(B.jsx)("div",{className:"mb-4",children:Object(B.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=u.name,c=u.email,o=u.body;""!==n&&""!==c&&""!==o?(u.id=parseInt(r.length+1),u.postId=e,a([].concat(Object(z.a)(r),[u]))):console.log("Incomplete Data")},children:[Object(B.jsx)("label",{children:"Name: "}),Object(B.jsx)("input",{className:"mb-1",id:"name",name:"name",type:"text",onChange:function(t){return b(t)}}),Object(B.jsx)("label",{children:"Email: "}),Object(B.jsx)("input",{className:"mb-1",id:"email",name:"email",type:"text",onChange:function(t){return b(t)}}),Object(B.jsx)("label",{children:"Body: "}),Object(B.jsx)("input",{className:"mb-1",id:"body",name:"body",type:"text-area",onChange:function(t){return b(t)}}),Object(B.jsx)("input",{type:"submit",value:"Add Comment"})]})})},q=n(14),K=n.n(q),Q=function(t){var e=t.id,n=t.comments;return Object(B.jsxs)(B.Fragment,{children:[n.map((function(t){return Object(B.jsx)(J,{comment:t},K.a.generate())})),Object(B.jsx)(H,{id:e})]})},W=function(t){var e=t.postData;Object(c.useEffect)((function(){m?a():r()}),[]);var n=Object(s.b)(),a=function(){return n({type:v})},r=function(){return n({type:v})},o=e.comments,i=e.post,u=i.id,l=i.title,j=i.body,b=Object(c.useState)(!1),d=Object(N.a)(b,2),m=d[0],O=d[1];return Object(B.jsx)("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mb-4",children:Object(B.jsxs)("div",{className:"card",children:[Object(B.jsx)("p",{className:"font-weight-bold p-3 text-uppercase",children:l}),Object(B.jsx)("div",{className:"card-body",children:Object(B.jsx)("p",{className:"card-text text-capitalize",children:j})}),Object(B.jsxs)("div",{className:"card-footer mx-auto p-2",children:[m?Object(B.jsx)(Q,{id:u,comments:o},u):Object(B.jsx)("button",{onClick:function(){return O(!m)},children:"See Comments"},u),m?Object(B.jsx)("button",{onClick:function(){return O(!m)},children:"Hide Comments"}):null]})]})})},Y=function(t){var e=t.matchedData;return Object(B.jsx)("div",{className:"col-12 p-5 row",children:e.map((function(t){return Object(B.jsx)(W,{postData:t},K.a.generate())}))})},Z=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t.postsState.posts})),n=Object(s.c)((function(t){return t.commentsState.comments})),a=Object(s.c)((function(t){return t.postsState.loading})),r=Object(s.c)((function(t){return t.commentsState.loading})),o=Object(c.useState)([]),i=Object(N.a)(o,2),u=i[0],l=i[1];return Object(c.useEffect)((function(){0===Object.keys(e).length&&(t(function(){var t=Object(w.a)(D.a.mark((function t(e){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(R()),t.prev=1,t.next=4,k.get("/posts").then((function(t){e(A(t.data))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(I());case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()),t(function(){var t=Object(w.a)(D.a.mark((function t(e){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(G()),t.prev=1,t.next=4,k.get("/comments").then((function(t){e(U(t.data))}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),e(F());case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}())),function(){var t=[];Object.keys(e).length>0&&Object.keys(n).length>0&&(e.map((function(e){var c=n.filter((function(t){return t.postId===e.id}));t.push({post:e,comments:c})})),l(t))}()}),[a,r]),Object(B.jsx)("div",{className:"container",children:Object(B.jsx)("div",{className:"row justify-content-center",children:u.length>0&&Object(B.jsx)(Y,{matchedData:u})})})};var $=function(){return Object(B.jsx)(s.a,{store:T,children:Object(B.jsx)(Z,{})})},tt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))};o.a.render(Object(B.jsx)(a.a.StrictMode,{children:Object(B.jsx)($,{})}),document.getElementById("root")),tt()}},[[69,1,2]]]);
//# sourceMappingURL=main.70b87999.chunk.js.map